% Lydia Lee, Spring 2019
% lydia.lee@berkeley.edu
% Paul Shao, Spring 2019
% paulshaoyuqiao1@berkeley.edu

\qns{Subspaces}
Determine if the following describe subspaces.

\sol{
\begin{itemize}
	\item Emphasize the importance of \textit{generalization} when determining whether a given set is a subspace (and for proofs in general). It is crucial to show that the two properties above hold for \textit{all} vectors within the set, not just one or two numerical examples.
	\item Clarify the mathematical notation, e.g. $\forall$ means ``for all'' and $:$ means ``such that''. Vocalizing what you're writing down as you write it will help keep you from moving too quickly while clarifying any confusing notation. 
	\item Graphical intuition tends to help students who don't have a strong linear algebra background.
\end{itemize}}

\begin{enumerate}
\qitem\label{ques:nonnegative}{
	$\{\vec{x} = \begin{bmatrix}x_1 & \cdots & x_n\end{bmatrix}^T : x_i \geq 0$ $\forall i=1, \cdots, n\}$
}

\sol{
	Tell the students what this means graphically!
}

\ans{

	We proceed to test if the set is closed under vector addition and scalar multiplication. \\ 
	Let's check if this set is closed under vector addition and scalar multiplication.
	\begin{itemize}
		\item \textit{Vector addition}: Let's consider two vectors $\vec{v}$ and $\vec{u}$, both in the set.
		\begin{align*}
			\vec{v} &\dot{=} \begin{bmatrix}v_1 & \cdots & v_n\end{bmatrix}^T\\
			\vec{u} &\dot{=} \begin{bmatrix}u_1 & \cdots & u_n\end{bmatrix}^T
		\end{align*}
		where $v_i, u_i \geq 0$ $\forall i=1, \cdots, n$, i.e. all the elements of $\vec{v}, \vec{u}$ are nonnegative. To see that $V$ is closed under vector addition, we need $\vec{v} + \vec{u}$ to be contained within the set as well.
		\begin{align*}
			\vec{v} + \vec{u} &= \begin{bmatrix}v_1 + u_1 & \cdots & v_n + u_n\end{bmatrix}^T
		\end{align*}
		Because $v_i, u_i \geq 0$, then $v_i + u_i \geq 0$, and so $\vec{v} + \vec{u}$ is closed under vector addition.

		\item \textit{Scalar multiplication}: Suppose we have a vector $\vec{v} \in V$ and a number $\alpha \in \mathbb{R}$. Notice that $\alpha$ can be negative!

		To prove something false, we need only come up with a counterexample; so without loss of generality, let's say $\alpha = -1$. This means $\alpha \vec{v} = -\vec{v} = \begin{bmatrix}-v_1 & \cdots & -v_n\end{bmatrix}^T$, which does \textit{not} necessarily have nonnegative entries! Thus, the set is not closed under scalar multiplication.
	\end{itemize}

	The set does not describe a vector subspace because it is not closed under scalar multiplication $\square$
}

\qitem\label{ques:trivial}{
	$\{\vec{0}\}$
}

\sol{
	When teaching this question to your students, make sure you mention the significance of a single-element set (the fact that $\vec{0}$ is the \textbf{only} vector in the set), which greatly simplifies the subspace test process.}

\ans{
	\begin{itemize}
		\item \textit{Vector addition}: Since $\vec{0}$ is the only vector in this set, $\vec{0} + \vec{0} = \vec{0} \in V$.
		\item \textit{Scalar multiplication}: Since $a \cdot \vec{0} = \vec{0} \: \: \forall a \in \mathbb{R}$, we have that $a \cdot \vec{0} \in V$.
	\end{itemize}

	The set is closed under vector addition and scalar multiplication, and so it is a vector space! $\square$
}

\qitem\label{ques:twoVecs}{
	$\left\{\begin{bmatrix}1\\0\end{bmatrix}, \begin{bmatrix}0\\1\end{bmatrix}\right\}$
}

\sol{
	Emphasize the difference between a set containing 2 vectors and a set that is the \textbf{span} of 2 vectors. The former \textbf{only contains 2 vectors}, while the latter \textbf{contains all linear combinations of the 2 vectors}.}

\ans{
	\begin{itemize}
		\item \textit{Vector addition}: We can see that 
			$$\begin{bmatrix}1\\0\end{bmatrix} + \begin{bmatrix}0\\1\end{bmatrix} = \begin{bmatrix}1\\1\end{bmatrix}$$
			which is not in the set of vectors.
		\item \textit{Scalar multiplication}: Taking either of the vectors and scaling them by $\alpha \neq 1$ returns a vector not in the set, and so it is not closed under scalar multiplication.
	\end{itemize}

	This is \textit{not} a vector subspace. $\square$
}

\qitem\label{ques:spanTwoVecs}{
	span$\left(\begin{bmatrix}1\\0\end{bmatrix}, \begin{bmatrix}0\\1\end{bmatrix}\right)$
}

\sol{
	Reiterate the distinction between a single vector (like what's seen in part \ref{ques:twoVecs}) and its span.}

\ans{
	By definition, the span of $N$ vectors is the set of the linear combinations of those $N$ vectors. For this problem, we can rewrite the set as:
	$$\left\{a\begin{bmatrix}1\\0\end{bmatrix} + b\begin{bmatrix}0\\1\end{bmatrix} = \begin{bmatrix}a\\b\end{bmatrix}: a, b \in \mathbb{R} \right\}$$

	With the new definition, we see that the span of this set is $\mathbb{R}^2$, which is a vector subspace. For the sake of completeness, however, we'll go through the standard tests:
	\begin{itemize}
		\item \textit{Vector addition}: Let's define the following $\vec{v_1}$ and $\vec{v_2}$, both in the set.
		\begin{align*}
			\vec{v_i} &= a_i\begin{bmatrix}1\\0\end{bmatrix} + b_i\begin{bmatrix}0\\1\end{bmatrix}, i=1, 2\\
			\vec{v_1} + \vec{v_2} &= \left(a_1\begin{bmatrix}1\\0\end{bmatrix} + b_1\begin{bmatrix}0\\1\end{bmatrix}\right) + \left(a_2\begin{bmatrix}1\\0\end{bmatrix} + b_2\begin{bmatrix}0\\1\end{bmatrix}\right)\\
				&= \left(a_1 + a_2\right)\begin{bmatrix}1\\0\end{bmatrix} + \left(b_1 + b_2\right)\begin{bmatrix}0\\1\end{bmatrix}\\
				&= a\begin{bmatrix}1\\0\end{bmatrix} + b\begin{bmatrix}0\\1\end{bmatrix}
		\end{align*}
		\item \textit{Scalar multiplication}:
		\begin{align*}
			\vec{v} &= a\begin{bmatrix}1\\0\end{bmatrix} + b\begin{bmatrix}0\\1\end{bmatrix}\\
			\alpha\vec{v} &= \alpha a\begin{bmatrix}1\\0\end{bmatrix} + \alpha b\begin{bmatrix}0\\1\end{bmatrix}\\
				&= \hat{a}\begin{bmatrix}1\\0\end{bmatrix} + \hat{b}\begin{bmatrix}0\\1\end{bmatrix}
		\end{align*}
	\end{itemize}

	Hence, the set is a vector subspace $\square$
}

\qitem\label{ques:affine}{
	$\left\{\begin{bmatrix}x_1\\x_2\\x_3\end{bmatrix} \in \mathbb{R}^3 : x_1 + x_2 + x_3 = 1\right\}$
}

\sol{
	Some semesters they've been introduced to the notion of \textit{affine} spaces. If they've seen it, feel free to mention the term.

	Ask your students about the graphical interpretation of this set, then draw it out.
}

\ans{


	\textbf{Graphical Understanding}

	This set describes all points on the plane that passes through $(1,0,0)$, $(0,1,0)$, and $(0,0,1)$.
	\begin{center}
		\begin{tikzpicture}[scale=1,tdplot_main_coords]
		    \filldraw[
		        draw=red,%
		        fill=red!20,%
		    ]          (1,0,0)
		            -- (0,1,0)
		            -- (0,0,1)
		            -- cycle;
		    \draw[thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x_1$};
		    \draw[thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$x_2$};
		    \draw[thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$x_3$};
		\end{tikzpicture}
	\end{center}

	(If it's not immediately clear why this is true, try thinking of the line $x_1 + x_2 = 1$.)

	We know from the properties of vector spaces that one implication of closure under addition and scalar multiplication is that the vector space must contain the zero vector. Furthermore, using any two vectors in the space and adding them together disproves closure under vector addition; scaling a point in the plane by $\alpha \neq 1$ disproves closure under scalar multiplication.

	\textbf{Quick Counterexample}
	Using the endpoints $$\begin{bmatrix}1\\0\\0\end{bmatrix}, \begin{bmatrix}0\\1\\0\end{bmatrix}$$ and testing closure under scalar multiplication and addition is sufficient.
}

\qitem\label{ques:notAffine}{
	$\left\{\begin{bmatrix}x_1\\x_2\\x_3\end{bmatrix} \in \mathbb{R}^3 : x_1 + x_2 + x_3 = 0\right\}$
}

\sol{

	The process for finding the spanning vectors is the same as what they'll have seen in discussion for finding the null space.
	
}

\ans{
	Similar to part \ref{ques:affine}, we can gain some understanding of what this is by considering the fact that it describes a plane which passes through the origin. However, this is not sufficient to prove that this (spoiler alert) is a vector space. We can do this by seeing if we can find a set of vectors whose span is the set.

	The process is identical to finding a null space given a set of linear equations.

	Looking at the equation we're given
	$$x_1 + x_2 + x_3 = 0$$
	we have one equation but three unknowns, meaning we can choose two free variables. Any two will work, but we'll say that $x_1$ and $x_2$ are free. That means we want to write $x_3$ in terms of the other two variables:
	$$x_3 = -x_1 - x_2$$
	So rewriting the original vector in terms of our free variables $x_1$ and $x_2$:
	\begin{align*}
		\begin{bmatrix}x_1\\x_2\\x_3\end{bmatrix} &= \begin{bmatrix}x_1\\x_2\\-x_1-x_2\end{bmatrix}\\
			&= x_1\begin{bmatrix}1\\0\\-1\end{bmatrix} + x_2\begin{bmatrix}0\\1\\-1\end{bmatrix}
	\end{align*}
	We can now rewrite the set as span$\left(\begin{bmatrix}1&0&-1\end{bmatrix}^T, \begin{bmatrix}0&1&-1\end{bmatrix}^T\right)$. We know from part \ref{ques:spanTwoVecs} that this set is indeed a vector space! $\square$
}

\qitem\label{ques:notAffine}{
Let $V$ be the vector space of $n$ x $n$ matrices, and $M \in V$ a fixed matrix. We define the set $$U = \{N \in V \: | \: NM = MN \}$$ as the \textit{centralizer} of $M$ in $V$. Show that $U$ is a subspace of V.
}

\sol{This is a good example to show students that vector space/subspace doesn't have to strictly contain only vectors and that the subspace test process still remains the same!}

\ans{
\begin{itemize}
    \item{\textit{Vector Addition: } \\ Note that the "vectors" in this case are actually matrices! Suppose we have 2 $n$ x $n$ matrices $A, B \in U$, we want to show that $A+B \in U$, meaning that it must satisfy $(A + B)M = M(A + B)$. \\
    Starting with $(A+B)M$, we expand it out into $AM + BM$. Now, since both $A$ and $B$ are in $U$, this means that $AM = MA, BM = MB$. Hence, $(A+B)M = AM + BM = MA + MB = M(A+B)$.
    }
    \item{\textit{Scalar Multiplication: } \\
    Suppose we have $N \in U$, and $c \in \mathbb{R}$. Similar to the process above, we want to in the end show that $(cN)M = M(cN)$. \\
    Since $N \in U$, we have that $NM = MN$. Since $c$ is a real scalar, by the rule of matrix multiplication with scalars, we can move the scalar around within the expression. Hence, $(cN)M = cNM = c(NM) = c(MN) = cMN = McN = M(cN)$.
    }
\end{itemize}
Hence, we can now conclude that $U$ is indeed a subspace of $V$! $\square$

}

\qitem \label{ques:notAffine}{
Suppose $U$ and $V$ are both subspaces of a vector space $S$, show that $U \cap V$ is also a subspace of $S$.
}

\sol{This is one of the more abstract examples on vector subspaces that also involve some understanding on simple set relations. Make sure to show the students that the subspace test process still remains mostly unchanged. }

\ans{
\begin{itemize}
    \item{\textit{Vector Addition: } \\
    Consider 2 vectors $\vec{v}, \vec{u} \in U \cap V$. We want to show that $\vec{u} + \vec{v} \in U \cap V$. \\
    To show that this is true, it seems like a direct approach might be a bit hard since it seems unclear what exactly $U \cap V$ entails about the properties of all the elements within. However, making use of the fact that $U \cap V \subset U, V$ (\textbf{The intersection of $U$ and $V$ is a subset of $U$ and $V$}) will be crucial to the proof.\\
    Note that $\vec{u} \in U \cap V \Longrightarrow \vec{v} \in V$, and by similar logic $\vec{v} \in V$, and $V$ is a vector subspace, we know that it must be true that $\vec{u} + \vec{v} \in V$ (closed under vector addition). \\
    Repeat the same process except this time for $U$, and we can seee that $\vec{u} + \vec{v} \in U$. \\
    Now, let's combine our result. Since $\vec{u} + \vec{v}$ are in both $U$ and $V$, this implies that it must be in the intersection of the two, which is $U \cap V$!
    }
    \item{\textit{Scalar Multiplication: } \\
    Consider a vector $\vec{v} \in U \cap V$, and a real-number scalar $c \in \mathbb{R}$. \\
    Again, since $\vec{v} \in U \cap V \Longrightarrow \vec{v} \in V$, and $V$ is already a vector subspace, so we know that by the property of scalar multiplication for a subspace, it must be true that $c\vec{v} \in V$.\\
    Applying the same logic again for $U$, we can see $c\vec{v} \in U$.
    }
\end{itemize}
Since we've shown that the set is closed under vector addition and scalar multiplication, $U \cap V$ is also a vector subspace of $S$!  $\square$
}

\end{enumerate}
